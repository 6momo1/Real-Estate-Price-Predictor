import time
from selenium import webdriver
from selenium.webdriver.common.keys import Keys
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.common.by import By
from bfs import get_info


PATH = './chromedriver.exe'

def scrape():
	driver = webdriver.Chrome(PATH)  # Optional argument, if not specified will search path.
	url = 'https://www.rew.ca/properties/areas/arbutus-vancouver-bc'
	li = []

	driver.get(url)

	# find the house div
	# divs = driver.find_elements_by_class_name('displaypanel-wrapper')


	elements = driver.find_elements_by_class_name('displaypanel-content')

	for i in range(len(elements)):
		driver.find_elements_by_class_name('displaypanel-content')[i].click()
		li.append(get_info(driver.page_source))
		driver.back()
		time.sleep(5)

	return li



li = ['{"address": "2917 W 20th Avenue", "price": "$4,288,000", "Bedrooms": "5", "Bath": "5", "Lot Size": "42 ft x 122 ft (5129 ft\\u00b2)", "Property Age": "Built in 2013 (7 yrs old)", "Gross Taxes for 2020": "$12,652", "Area": "Vancouver West", "Sub-Area/Community": "Arbutus", "Property Type": "House", "Title": "Freehold NonStrata", "Style": "2 Storey w/Bsmt.", "Heating Type": "Heat Recovery Ventilator", "Depth": "122.12", "Frontage": "42.00 feet", "Listing ID": "R2523766", "Primary Agent": "Layla Yang PREC*", "Primary Broker": "Dracco Pacific Realty", "Secondary Agent": "Frank Peng PREC*", "Secondary Broker": "Dracco Pacific Realty", "Days on REW": "9 Days on REW", "Features": "Central Location, Garage Door Opener, Heat Recovery Ventilator, Oven - Built In, Private Yard, Security System, Smoke Alarm, Treed, Vacuum - Built In, Wet Bar", "Amenities": "Air Conditioning, Recreation Nearby, Sauna, Shopping Nearby", "Appliances": "Washer/Dryer/Fridge/Stove/Dishwasher", "Fireplaces": "1", "Air Conditioner": "Yes"}', '{"address": "2688 W 19th Avenue", "price": "$3,800,000", "Bedrooms": "6", "Bath": "6", "Lot Size": "52 ft x 120 ft (6240 ft\\u00b2)", "Property Age": "Built in 1987 (33 yrs old)", "Gross Taxes for 2020": "$11,176", "Area": "Vancouver West", "Sub-Area/Community": "Arbutus", "Property Type": "House", "Title": "Freehold NonStrata", "Style": "2 Storey", "Depth": "120", "Frontage": "52.00 feet", "Listing ID": "R2520899", "Primary Agent": "Andy Dai PREC*", "Primary Broker": "Nu Stream Realty Inc.", "Days on REW": "24 Days on REW", "Features": "Central Location, Drapes/window Coverings, Garage Door Opener, Lane Access", "Appliances": "Washer/Dryer/Fridge/Stove/Dishwasher", "Fireplaces": "2"}', '{"address": "3008 W 21st Avenue", "price": "$2,780,000", "Bedrooms": "2", "Bath": "1", "Lot Size": "33 ft x 122 ft (4026 ft\\u00b2)", "Property Age": "Built in 1941 (79 yrs old)", "Gross Taxes for 2020": "$7,278", "Area": "Vancouver West", "Sub-Area/Community": "Arbutus", "Property Type": "House", "Title": "Freehold NonStrata", "Style": "1 Storey", "Depth": "122", "Frontage": "33.00 feet", "Listing ID": "R2518002", "Primary Agent": "Mo Wei Tsang", "Primary Broker": "Sutton Group-West Coast Realty", "Days on REW": "35 Days on REW", "Features": "Central Location, Lane Access, Treed", "Amenities": "Recreation Nearby, Shopping Nearby", "Appliances": "Washer/Dryer/Fridge/Stove/Dishwasher", "Fireplaces": "1"}', '{"address": "2848 W 20th Avenue", "price": "$3,380,000", "Bedrooms": "5", "Bath": "4", "Lot Size": "40 ft x 122 ft (4882 ft\\u00b2)", "Property Age": "Built in 1993 (27 yrs old)", "Gross Taxes for 2019": "$9,251", "Area": "Vancouver West", "Sub-Area/Community": "Arbutus", "Property Type": "House", "Title": "Freehold NonStrata", "Style": "2 Storey w/Bsmt.", "Depth": "122.05", "Frontage": "40.00 feet", "Listing ID": "R2511456", "Primary Agent": "Tina Li PREC*", "Primary Broker": "Luxmore Realty", "Days on REW": "63 Days on REW", "Features": "Central Location, Drapes/window Coverings, Fireplace Insert, Garage Door Opener, Lane Access, Private Yard", "Amenities": "Garden, In Suite Laundry, Recreation Nearby, Shopping Nearby", "Appliances": "Dishwasher, Washer/Dryer/Fridge/Stove/Dishwasher", "Fireplaces": "3"}', '{"address": "2181 W 22nd Avenue", "price": "$5,680,000", "Bedrooms": "6", "Bath": "7", "Lot Size": "50 ft x 122 ft (6100 ft\\u00b2)", "Property Age": "Built in 2020 (0 yrs old)", "Gross Taxes for 2020": "$13,110", "Area": "Vancouver West", "Sub-Area/Community": "Arbutus", "Property Type": "House", "Title": "Freehold NonStrata", "Style": "2 Storey w/Bsmt.", "Depth": "122", "Frontage": "50.00 feet", "Listing ID": "R2506722", "Primary Agent": "Peter Saito PREC*", "Primary Broker": "Sutton Group-West Coast Realty", "Secondary Agent": "Vivian Li PREC*", "Secondary Broker": "Sutton Group-West Coast Realty", "Days on REW": "78 Days on REW", "Appliances": "Washer/Dryer/Fridge/Stove/Dishwasher", "Fireplaces": "2"}', '{"address": "2996 W 21st Avenue", "price": "$2,488,000", "Bedrooms": "4", "Bath": "3", "Lot Size": "38 ft x 122 ft (4660 ft\\u00b2)", "Property Age": "Built in 2020 (0 yrs old)", "Gross Taxes for 2020": "$0", "Strata Maintenance Fees": "$0", "Area": "Vancouver West", "Sub-Area/Community": "Arbutus", "Property Type": "Duplex", "Title": "Freehold Strata", "Style": "2 Storey", "Depth": "122.30", "Frontage": "38.10 feet", "Listing ID": "R2524042", "Primary Agent": "Mark Wiens PREC*", "Primary Broker": "RE/MAX Crest Realty", "Days on REW": "8 Days on REW", "Features": "Sprinkler - Fire", "Amenities": "Air Conditioning, Central Location", "Appliances": "Washer/Dryer/Fridge/Stove/Dishwasher", "Building Features": "Central Airconditioning", "Fireplaces": "1", "Air Conditioner": "Yes"}', '{"address": "3738 Carnarvon Street", "price": "$2,688,000", "Bedrooms": "5", "Bath": "4", "Lot Size": "0 ft\\u00b2", "Property Age": "Built in 2020 (0 yrs old)", "Gross Taxes for 2020": "$0", "Strata Maintenance Fees": "$0", "Area": "Vancouver West", "Sub-Area/Community": "Arbutus", "Property Type": "Duplex", "Title": "Freehold Strata", "Style": "3 Storey w/Bsmt.", "Listing ID": "R2523926", "Primary Agent": "Mark Wiens PREC*", "Primary Broker": "RE/MAX Crest Realty", "Days on REW": "9 Days on REW", "Amenities": "Air Conditioning, Central Location, Recreation Nearby", "Appliances": "Washer/Dryer/Fridge/Stove/Dishwasher", "Building Features": "Central Airconditioning", "Fireplaces": "1", "Air Conditioner": "Yes"}', '{"address": "4248 Quesnel Drive", "price": "$5,380,000", "Bedrooms": "4", "Bath": "5", "Lot Size": "50 ft x 129 ft (6469 ft\\u00b2)", "Property Age": "Built in 1995 (25 yrs old)", "Gross Taxes for 2020": "$17,499", "Area": "Vancouver West", "Sub-Area/Community": "Arbutus", "Property Type": "House", "Title": "Freehold NonStrata", "Style": "2 Storey w/Bsmt.", "Depth": "129.38", "Frontage": "50.00 feet", "Listing ID": "R2522523", "Primary Agent": "Victor Kwan PREC*", "Primary Broker": "RE/MAX Select Properties", "Days on REW": "16 Days on REW", "Features": "Central Location, Drapes/window Coverings, Garage Door Opener, Security System, Vacuum - Built In", "Amenities": "Air Conditioning", "Appliances": "Washer/Dryer/Fridge/Stove/Dishwasher", "Fireplaces": "1", "Air Conditioner": "Yes"}', '{"address": "2791 Alamein Avenue", "price": "$2,998,000", "Bedrooms": "3", "Bath": "3", "Lot Size": "0 ft\\u00b2", "Property Age": "Built in 2020 (0 yrs old)", "Gross Taxes for 2020": "$0", "Strata Maintenance Fees": "$0", "Area": "Vancouver West", "Sub-Area/Community": "Arbutus", "Property Type": "Duplex", "Title": "Freehold Strata", "Style": "3 Storey", "Heating Type": "Heat Recovery Ventilator", "Listing ID": "R2520279", "Primary Agent": "Anderson Hsu PREC*", "Primary Broker": "Faith Wilson Group", "Days on REW": "28 Days on REW", "Features": "Air Conditioning, Drapes/window Coverings, Heat Recovery Ventilator, Oven - Built In, Security System, Smoke Alarm, Sprinkler - Fire", "Amenities": "Central Location, Recreation Nearby, Shopping Nearby", "Appliances": "Washer/Dryer/Fridge/Stove/Dishwasher", "Building Features": "Bike Room, Elevator, Garden, In Suite Laundry", "Air Conditioner": "Yes"}', '{"address": "2789 Alamein Avenue", "price": "$2,199,000", "Bedrooms": "2", "Bath": "3", "Lot Size": "0 ft\\u00b2", "Property Age": "Built in 2020 (0 yrs old)", "Gross Taxes for 2020": "$0", "Strata Maintenance Fees": "$0", "Area": "Vancouver West", "Sub-Area/Community": "Arbutus", "Property Type": "Duplex", "Title": "Freehold Strata", "Style": "3 Storey,Corner Unit", "Heating Type": "Heat Recovery Ventilator", "Listing ID": "R2520264", "Primary Agent": "Anderson Hsu PREC*", "Primary Broker": "Faith Wilson Group", "Days on REW": "28 Days on REW", "Features": "Drapes/window Coverings, Heat Recovery Ventilator, Oven - Built In, Security System, Smoke Alarm, Sprinkler - Fire", "Amenities": "Air Conditioning, Central Location, Recreation Nearby, Shopping Nearby", "Appliances": "Washer/Dryer/Fridge/Stove/Dishwasher", "Building Features": "Bike Room, Elevator, Garden, In Suite Laundry", "Air Conditioner": "Yes"}', '{"address": "2833 W 18th Avenue", "price": "$1,998,000", "Bedrooms": "3", "Bath": "2", "Lot Size": "33 ft x 92 ft (3046 ft\\u00b2)", "Property Age": "Built in 1956 (64 yrs old)", "Gross Taxes for 2020": "$6,474", "Area": "Vancouver West", "Sub-Area/Community": "Arbutus", "Property Type": "House", "Title": "Freehold NonStrata", "Style": "2 Storey", "Depth": "92.3", "Frontage": "33.00 feet", "Listing ID": "R2514279", "Primary Agent": "Mel Schroth", "Primary Broker": "Team 3000 Realty Ltd.", "Days on REW": "51 Days on REW", "Features": "Central Location", "Appliances": "Washer/Dryer/Fridge/Stove/Dishwasher", "Fireplaces": "2"}', '{"address": "2969 W 22nd Avenue", "price": "$4,350,000", "Bedrooms": "5", "Bath": "6", "Lot Size": "42 ft x 122 ft (5124 ft\\u00b2)", "Property Age": "Built in 2011 (9 yrs old)", "Gross Taxes for 2020": "$6,983", "Area": "Vancouver West", "Sub-Area/Community": "Arbutus", "Property Type": "House", "Title": "Freehold NonStrata", "Style": "2 Storey w/Bsmt.", "Depth": "122", "Frontage": "42.00 feet", "Listing ID": "R2504265", "Primary Agent": "Rachel Yu PREC*", "Primary Broker": "Macdonald Realty Westmar", "Days on REW": "84 Days on REW", "Features": "Air Conditioning, Garage Door Opener, Private Yard, Security System", "Amenities": "Golf Course Nearby", "Appliances": "Washer/Dryer/Fridge/Stove/Dishwasher", "Fireplaces": "1", "Air Conditioner": "Yes"}', '{"address": "2557 W King Edward Avenue", "price": "$2,598,000", "Bedrooms": "4", "Bath": "2", "Lot Size": "51 ft x 122 ft (6220 ft\\u00b2)", "Property Age": "Built in 1953 (67 yrs old)", "Gross Taxes for 2020": "$7,860", "Area": "Vancouver West", "Sub-Area/Community": "Arbutus", "Property Type": "House", "Title": "Freehold NonStrata", "Style": "2 Storey", "Depth": "122", "Frontage": "51.00 feet", "Listing ID": "R2502364", "Primary Agent": "Sherri Xi PREC*", "Primary Broker": "RE/MAX Select Properties", "Days on REW": "90 Days on REW", "Features": "Central Location", "Appliances": "Washer/Dryer/Fridge/Stove/Dishwasher", "Fireplaces": "1"}', '{"address": "2137 W 20th Avenue", "price": "$3,698,000", "Bedrooms": "6", "Bath": "6", "Lot Size": "50 ft x 122 ft (6100 ft\\u00b2)", "Property Age": "Built in 1992 (28 yrs old)", "Gross Taxes for 2020": "$11,588", "Area": "Vancouver West", "Sub-Area/Community": "Arbutus", "Property Type": "House", "Title": "Freehold NonStrata", "Style": "2 Storey w/Bsmt.", "Depth": "122", "Frontage": "50.00 feet", "Listing ID": "R2496211", "Primary Agent": "Beibei Yang", "Primary Broker": "Royal Pacific Realty Corp.", "Days on REW": "106 Days on REW", "Features": "Drapes/window Coverings, Garage Door Opener, Intercom, Lane Access, Oven - Built In, Private Yard, Security System, Sprinkler - Fire, Vacuum - Built In", "Amenities": "Shopping Nearby", "Appliances": "Compactor - Garbage, Microwave, Washer/Dryer/Fridge/Stove/Dishwasher", "Fireplaces": "2"}', '{"address": "3950 Puget Drive", "price": "$4,650,000", "Bedrooms": "5", "Bath": "5", "Lot Size": "115 ft x 87 ft (8358 ft\\u00b2)", "Property Age": "Built in 1990 (30 yrs old)", "Gross Taxes for 2020": "$12,753", "Area": "Vancouver West", "Sub-Area/Community": "Arbutus", "Property Type": "House", "Title": "Freehold NonStrata", "Style": "2 Storey w/Bsmt.", "Depth": "87/21/IRR", "Frontage": "115.41 feet", "Listing ID": "R2486213", "Primary Agent": "Winnie Chung PREC*", "Primary Broker": "Royal Pacific Realty Corp.", "Days on REW": "134 Days on REW", "Features": "Air Conditioning, Central Location, Private Setting, Private Yard, Security System", "Amenities": "Shopping Nearby", "Appliances": "Range Top, Refrigerator, Washer/Dryer/Fridge/Stove/Dishwasher", "Fireplaces": "2", "Air Conditioner": "Yes"}', '{"address": "2772 W 20th Avenue", "price": "$2,788,000", "Bedrooms": "4", "Bath": "5", "Lot Size": "33 ft x 122 ft (4026 ft\\u00b2)", "Property Age": "Built in 1995 (25 yrs old)", "Gross Taxes for 2020": "$8,227", "Area": "Vancouver West", "Sub-Area/Community": "Arbutus", "Property Type": "House", "Title": "Freehold NonStrata", "Style": "2 Storey w/Bsmt.", "Depth": "122", "Frontage": "33.00 feet", "Listing ID": "R2479298", "Primary Agent": "Danny Deng PREC*", "Primary Broker": "Sutton Group-West Coast Realty", "Days on REW": "154 Days on REW", "Features": "Central Location, Drapes/window Coverings, Vacuum - Built In", "Amenities": "Shopping Nearby", "Fireplaces": "2"}', '{"address": "3231 Vine Street", "price": "$3,350,000", "Bedrooms": "4", "Bath": "4", "Lot Size": "50 ft x 150 ft (7500 ft\\u00b2)", "Property Age": "Built in 1989 (31 yrs old)", "Gross Taxes for 2020": "$9,342", "Area": "Vancouver West", "Sub-Area/Community": "Arbutus", "Property Type": "House", "Title": "Freehold NonStrata", "Style": "2 Storey", "Depth": "150", "Frontage": "50.00 feet", "Listing ID": "R2475315", "Primary Agent": "Sarina Han PREC*", "Primary Broker": "Luxmore Realty", "Days on REW": "164 Days on REW", "Fireplaces": "1"}', '{"address": "2796 W 21st Avenue", "price": "$2,599,000", "Bedrooms": "5", "Bath": "3", "Lot Size": "40 ft x 122 ft (4880 ft\\u00b2)", "Property Age": "Built in 1940 (80 yrs old)", "Gross Taxes for 2019": "$6,726", "Area": "Vancouver West", "Sub-Area/Community": "Arbutus", "Property Type": "House", "Title": "Freehold NonStrata", "Style": "2 Storey w/Bsmt.", "Depth": "122", "Frontage": "40.00 feet", "Listing ID": "R2461181", "Primary Agent": "Kam Garcha", "Primary Broker": "Sutton Group-West Coast Realty", "Days on REW": "205 Days on REW", "Features": "Lane Access", "Amenities": "Garden, In Suite Laundry, Shopping Nearby", "Appliances": "Clothes Washer/Dryer, Refrigerator, Stove", "Fireplaces": "1"}']

print(li[0])
